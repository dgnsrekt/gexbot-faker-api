services:
  gex-faker-api:
    build: .
    container_name: gex-faker-api
    user: "${PUID:-1000}:${PGID:-1000}"
    ports:
      - "${HOST_PORT:-8080}:8080"
    volumes:
      - ./data:/app/data:ro
    environment:
      - PORT=8080
      - DATA_DIR=/app/data
      - DATA_DATE=${DATA_DATE:-2025-11-28}
      - DATA_MODE=${DATA_MODE:-memory}
      - CACHE_MODE=${CACHE_MODE:-exhaust}
      - ENDPOINT_CACHE_MODE=${ENDPOINT_CACHE_MODE:-shared}
    restart: unless-stopped
